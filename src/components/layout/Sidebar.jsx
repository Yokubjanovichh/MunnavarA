import { NavLink, useNavigate } from "react-router-dom";
import styles from "./Sidebar.module.css";
import { useAuthStore } from "@/store/authStore";
import Logo from "@/assets/icons/Logo.svg";

function Icon({ name }) {
  switch (name) {
    case "grid":
      return (
        <svg
          width="12"
          height="12"
          viewBox="0 0 12 12"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0.5 1.16667C0.5 0.989856 0.570238 0.820287 0.695262 0.695262C0.820287 0.570238 0.989856 0.5 1.16667 0.5H3.83333C4.01014 0.5 4.17971 0.570238 4.30474 0.695262C4.42976 0.820287 4.5 0.989856 4.5 1.16667V3.83333C4.5 4.01014 4.42976 4.17971 4.30474 4.30474C4.17971 4.42976 4.01014 4.5 3.83333 4.5H1.16667C0.989856 4.5 0.820287 4.42976 0.695262 4.30474C0.570238 4.17971 0.5 4.01014 0.5 3.83333V1.16667Z"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M7.16667 1.16667C7.16667 0.989856 7.2369 0.820287 7.36193 0.695262C7.48695 0.570238 7.65652 0.5 7.83333 0.5H10.5C10.6768 0.5 10.8464 0.570238 10.9714 0.695262C11.0964 0.820287 11.1667 0.989856 11.1667 1.16667V3.83333C11.1667 4.01014 11.0964 4.17971 10.9714 4.30474C10.8464 4.42976 10.6768 4.5 10.5 4.5H7.83333C7.65652 4.5 7.48695 4.42976 7.36193 4.30474C7.2369 4.17971 7.16667 4.01014 7.16667 3.83333V1.16667Z"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M0.5 7.83333C0.5 7.65652 0.570238 7.48695 0.695262 7.36193C0.820287 7.2369 0.989856 7.16667 1.16667 7.16667H3.83333C4.01014 7.16667 4.17971 7.2369 4.30474 7.36193C4.42976 7.48695 4.5 7.65652 4.5 7.83333V10.5C4.5 10.6768 4.42976 10.8464 4.30474 10.9714C4.17971 11.0964 4.01014 11.1667 3.83333 11.1667H1.16667C0.989856 11.1667 0.820287 11.0964 0.695262 10.9714C0.570238 10.8464 0.5 10.6768 0.5 10.5V7.83333Z"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M7.16667 7.83333C7.16667 7.65652 7.2369 7.48695 7.36193 7.36193C7.48695 7.2369 7.65652 7.16667 7.83333 7.16667H10.5C10.6768 7.16667 10.8464 7.2369 10.9714 7.36193C11.0964 7.48695 11.1667 7.65652 11.1667 7.83333V10.5C11.1667 10.6768 11.0964 10.8464 10.9714 10.9714C10.8464 11.0964 10.6768 11.1667 10.5 11.1667H7.83333C7.65652 11.1667 7.48695 11.0964 7.36193 10.9714C7.2369 10.8464 7.16667 10.6768 7.16667 10.5V7.83333Z"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      );
    case "box":
      return (
        <svg
          width="12"
          height="13"
          viewBox="0 0 12 13"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M11.1667 3.5L5.83333 0.5L0.5 3.5M11.1667 3.5V9.5L5.83333 12.5M11.1667 3.5L5.83333 6.5M5.83333 12.5L0.5 9.5V3.5M5.83333 12.5V6.5M0.5 3.5L5.83333 6.5"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      );
    case "plus":
      return (
        <svg
          width="14"
          height="14"
          viewBox="0 0 14 14"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M6.83333 12.5H1.83333C1.47971 12.5 1.14057 12.3595 0.890524 12.1095C0.640476 11.8594 0.5 11.5203 0.5 11.1667V1.83333C0.5 1.47971 0.640476 1.14057 0.890524 0.890524C1.14057 0.640476 1.47971 0.5 1.83333 0.5H11.1667C11.5203 0.5 11.8594 0.640476 12.1095 0.890524C12.3595 1.14057 12.5 1.47971 12.5 1.83333V6.83333M0.5 5.16667H12.5M5.16667 0.5V12.5M9.16667 11.1667H13.1667M11.1667 9.16667V13.1667"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      );
    case "cart":
      return (
        <svg
          width="12"
          height="13"
          viewBox="0 0 12 13"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M1.83333 9.83333C2.18696 9.83333 2.52609 9.97381 2.77614 10.2239C3.02619 10.4739 3.16667 10.813 3.16667 11.1667C3.16667 11.5203 3.02619 11.8594 2.77614 12.1095C2.52609 12.3595 2.18696 12.5 1.83333 12.5C1.47971 12.5 1.14057 12.3595 0.890524 12.1095C0.640476 11.8594 0.5 11.5203 0.5 11.1667C0.5 10.813 0.640476 10.4739 0.890524 10.2239C1.14057 9.97381 1.47971 9.83333 1.83333 9.83333ZM1.83333 9.83333H9.16667M1.83333 9.83333V0.5H0.5M9.16667 9.83333C9.52029 9.83333 9.85943 9.97381 10.1095 10.2239C10.3595 10.4739 10.5 10.813 10.5 11.1667C10.5 11.5203 10.3595 11.8594 10.1095 12.1095C9.85943 12.3595 9.52029 12.5 9.16667 12.5C8.81304 12.5 8.47391 12.3595 8.22386 12.1095C7.97381 11.8594 7.83333 11.5203 7.83333 11.1667C7.83333 10.813 7.97381 10.4739 8.22386 10.2239C8.47391 9.97381 8.81304 9.83333 9.16667 9.83333ZM1.83333 1.83333L11.1667 2.5L10.5 7.16667H1.83333"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      );
    case "list":
      return (
        <svg
          width="11"
          height="13"
          viewBox="0 0 11 13"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M6.5 0.5V3.16667C6.5 3.34348 6.57024 3.51305 6.69526 3.63807C6.82029 3.7631 6.98986 3.83333 7.16667 3.83333H9.83333M6.5 0.5H1.83333C1.47971 0.5 1.14057 0.640476 0.890524 0.890524C0.640476 1.14057 0.5 1.47971 0.5 1.83333V11.1667C0.5 11.5203 0.640476 11.8594 0.890524 12.1095C1.14057 12.3595 1.47971 12.5 1.83333 12.5H8.5C8.85362 12.5 9.19276 12.3595 9.44281 12.1095C9.69286 11.8594 9.83333 11.5203 9.83333 11.1667V3.83333M6.5 0.5L9.83333 3.83333M3.16667 3.16667H3.83333M3.16667 7.16667H7.16667M5.83333 9.83333H7.16667"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      );
    case "file":
      return (
        <svg
          width="11"
          height="13"
          viewBox="0 0 11 13"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M6.5 0.5V3.16667C6.5 3.34348 6.57024 3.51305 6.69526 3.63807C6.82029 3.7631 6.98986 3.83333 7.16667 3.83333H9.83333M6.5 0.5H1.83333C1.47971 0.5 1.14057 0.640476 0.890524 0.890524C0.640476 1.14057 0.5 1.47971 0.5 1.83333V11.1667C0.5 11.5203 0.640476 11.8594 0.890524 12.1095C1.14057 12.3595 1.47971 12.5 1.83333 12.5H8.5C8.85362 12.5 9.19276 12.3595 9.44281 12.1095C9.69286 11.8594 9.83333 11.5203 9.83333 11.1667V3.83333M6.5 0.5L9.83333 3.83333M3.16667 3.16667H3.83333M3.16667 7.16667H7.16667M5.83333 9.83333H7.16667"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      );
    case "ticket":
      return (
        <svg
          width="13"
          height="11"
          viewBox="0 0 13 11"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M8.5 0.5V1.83333M8.5 4.5V5.83333M8.5 8.5V9.83333M1.83333 0.5H11.1667C11.5203 0.5 11.8594 0.640476 12.1095 0.890524C12.3595 1.14057 12.5 1.47971 12.5 1.83333V3.83333C12.1464 3.83333 11.8072 3.97381 11.5572 4.22386C11.3071 4.47391 11.1667 4.81304 11.1667 5.16667C11.1667 5.52029 11.3071 5.85943 11.5572 6.10948C11.8072 6.35952 12.1464 6.5 12.5 6.5V8.5C12.5 8.85362 12.3595 9.19276 12.1095 9.44281C11.8594 9.69286 11.5203 9.83333 11.1667 9.83333H1.83333C1.47971 9.83333 1.14057 9.69286 0.890524 9.44281C0.640476 9.19276 0.5 8.85362 0.5 8.5V6.5C0.853622 6.5 1.19276 6.35952 1.44281 6.10948C1.69286 5.85943 1.83333 5.52029 1.83333 5.16667C1.83333 4.81304 1.69286 4.47391 1.44281 4.22386C1.19276 3.97381 0.853622 3.83333 0.5 3.83333V1.83333C0.5 1.47971 0.640476 1.14057 0.890524 0.890524C1.14057 0.640476 1.47971 0.5 1.83333 0.5Z"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      );
    case "star":
      return (
        <svg
          width="14"
          height="14"
          viewBox="0 0 14 14"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M6.66699 0.5C6.74291 0.500085 6.87682 0.530134 7.13867 0.87207C7.40115 1.21483 7.69758 1.7436 8.12793 2.51562L8.34668 2.90723C8.56487 3.29858 8.73711 3.63029 9.02734 3.85059C9.32058 4.0732 9.68258 4.14358 10.1055 4.23926L10.5303 4.33594C11.3669 4.52523 11.9363 4.65495 12.3262 4.80859C12.7067 4.95856 12.7868 5.08221 12.8174 5.18066C12.8496 5.28456 12.8504 5.44361 12.623 5.80469C12.3922 6.17139 12.0031 6.62904 11.4336 7.29492L11.1445 7.63281C10.8902 7.93025 10.67 8.17683 10.5459 8.46875L10.499 8.59668C10.4178 8.85811 10.4222 9.13019 10.4482 9.44141L10.4785 9.7666L10.5225 10.2178C10.6085 11.1059 10.6671 11.7177 10.6475 12.1582C10.6279 12.5977 10.5347 12.7194 10.4609 12.7754C10.3952 12.8252 10.2732 12.8799 9.87793 12.7666C9.47615 12.6514 8.9422 12.4074 8.15918 12.0469L7.76172 11.8633C7.36754 11.6818 7.03342 11.5167 6.66699 11.5166C6.30058 11.5166 5.96636 11.6818 5.57227 11.8633L5.1748 12.0469C4.39129 12.4076 3.85698 12.6514 3.45508 12.7666C3.05958 12.8799 2.93774 12.8252 2.87207 12.7754C2.79828 12.7193 2.70612 12.5974 2.68652 12.1582C2.6669 11.7177 2.72448 11.1059 2.81055 10.2178L2.85449 9.7666C2.89848 9.31269 2.94333 8.94526 2.83496 8.59668C2.7259 8.24592 2.48013 7.97271 2.18945 7.63281L1.90039 7.29492C1.33077 6.62885 0.940868 6.17145 0.709961 5.80469C0.482724 5.44371 0.483427 5.28456 0.515625 5.18066C0.546238 5.08222 0.626456 4.95853 1.00684 4.80859C1.39679 4.65492 1.96683 4.52529 2.80371 4.33594L3.22754 4.23926C3.65042 4.14358 4.01239 4.07313 4.30566 3.85059C4.59584 3.6303 4.76907 3.29873 4.9873 2.90723L5.20508 2.51562C5.63538 1.7437 5.93188 1.21484 6.19434 0.87207C6.45657 0.529635 6.59114 0.5 6.66699 0.5Z"
            stroke="currentColor"
          />
        </svg>
      );
    case "users":
      return (
        <svg
          width="13"
          height="13"
          viewBox="0 0 13 13"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M3.83333 12.5V11.8333C3.83333 11.4797 3.97381 11.1406 4.22386 10.8905C4.47391 10.6405 4.81304 10.5 5.16667 10.5H7.83333C8.18696 10.5 8.52609 10.6405 8.77614 10.8905C9.02619 11.1406 9.16667 11.4797 9.16667 11.8333V12.5M9.83333 5.16667H11.1667C11.5203 5.16667 11.8594 5.30714 12.1095 5.55719C12.3595 5.80724 12.5 6.14638 12.5 6.5V7.16667M0.5 7.16667V6.5C0.5 6.14638 0.640476 5.80724 0.890524 5.55719C1.14057 5.30714 1.47971 5.16667 1.83333 5.16667H3.16667M5.16667 7.16667C5.16667 7.52029 5.30714 7.85943 5.55719 8.10948C5.80724 8.35952 6.14638 8.5 6.5 8.5C6.85362 8.5 7.19276 8.35952 7.44281 8.10948C7.69286 7.85943 7.83333 7.52029 7.83333 7.16667C7.83333 6.81304 7.69286 6.47391 7.44281 6.22386C7.19276 5.97381 6.85362 5.83333 6.5 5.83333C6.14638 5.83333 5.80724 5.97381 5.55719 6.22386C5.30714 6.47391 5.16667 6.81304 5.16667 7.16667ZM8.5 1.83333C8.5 2.18696 8.64048 2.52609 8.89052 2.77614C9.14057 3.02619 9.47971 3.16667 9.83333 3.16667C10.187 3.16667 10.5261 3.02619 10.7761 2.77614C11.0262 2.52609 11.1667 2.18696 11.1667 1.83333C11.1667 1.47971 11.0262 1.14057 10.7761 0.890524C10.5261 0.640476 10.187 0.5 9.83333 0.5C9.47971 0.5 9.14057 0.640476 8.89052 0.890524C8.64048 1.14057 8.5 1.47971 8.5 1.83333ZM1.83333 1.83333C1.83333 2.18696 1.97381 2.52609 2.22386 2.77614C2.47391 3.02619 2.81304 3.16667 3.16667 3.16667C3.52029 3.16667 3.85943 3.02619 4.10948 2.77614C4.35952 2.52609 4.5 2.18696 4.5 1.83333C4.5 1.47971 4.35952 1.14057 4.10948 0.890524C3.85943 0.640476 3.52029 0.5 3.16667 0.5C2.81304 0.5 2.47391 0.640476 2.22386 0.890524C1.97381 1.14057 1.83333 1.47971 1.83333 1.83333Z"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      );
    case "user":
      return (
        <svg
          width="9"
          height="13"
          viewBox="0 0 9 13"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0.5 12.5V11.1667C0.5 10.4594 0.780951 9.78115 1.28105 9.28105C1.78115 8.78095 2.45942 8.5 3.16667 8.5H5.83333C6.54058 8.5 7.21885 8.78095 7.71895 9.28105C8.21905 9.78115 8.5 10.4594 8.5 11.1667V12.5M1.83333 3.16667C1.83333 3.87391 2.11428 4.55219 2.61438 5.05229C3.11448 5.55238 3.79276 5.83333 4.5 5.83333C5.20724 5.83333 5.88552 5.55238 6.38562 5.05229C6.88572 4.55219 7.16667 3.87391 7.16667 3.16667C7.16667 2.45942 6.88572 1.78115 6.38562 1.28105C5.88552 0.780951 5.20724 0.5 4.5 0.5C3.79276 0.5 3.11448 0.780951 2.61438 1.28105C2.11428 1.78115 1.83333 2.45942 1.83333 3.16667Z"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      );
    case "truck":
      return (
        <svg
          width="13"
          height="13"
          viewBox="0 0 13 13"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M1.5 3.16667C1.5 2.81304 1.64048 2.47391 1.89052 2.22386C2.14057 1.97381 2.47971 1.83333 2.83333 1.83333H7.5C7.85362 1.83333 8.19276 1.97381 8.44281 2.22386C8.69286 2.47391 8.83333 2.81304 8.83333 3.16667V8.5H1.5V3.16667Z"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M8.83333 4.5H10.3333L11.5 6V8.5H8.83333V4.5Z"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M3.5 11.1667C4.05228 11.1667 4.5 10.7189 4.5 10.1667C4.5 9.61438 4.05228 9.16667 3.5 9.16667C2.94772 9.16667 2.5 9.61438 2.5 10.1667C2.5 10.7189 2.94772 11.1667 3.5 11.1667Z"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M9.83333 11.1667C10.3856 11.1667 10.8333 10.7189 10.8333 10.1667C10.8333 9.61438 10.3856 9.16667 9.83333 9.16667C9.28105 9.16667 8.83333 9.61438 8.83333 10.1667C8.83333 10.7189 9.28105 11.1667 9.83333 11.1667Z"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M4.5 10.1667H8.83333"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      );
    case "settings":
      return (
        <svg
          width="13"
          height="13"
          viewBox="0 0 13 13"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M5.38333 1.378C5.66733 0.207333 7.33267 0.207333 7.61667 1.378C7.65928 1.55387 7.74281 1.71719 7.86047 1.85467C7.97813 1.99215 8.12659 2.0999 8.29377 2.16916C8.46094 2.23843 8.64211 2.26723 8.82252 2.25325C9.00294 2.23926 9.1775 2.18287 9.332 2.08867C10.3607 1.462 11.5387 2.63933 10.912 3.66867C10.8179 3.8231 10.7616 3.99756 10.7477 4.17785C10.7337 4.35814 10.7625 4.53918 10.8317 4.70625C10.9009 4.87333 11.0085 5.02172 11.1458 5.13937C11.2831 5.25702 11.4463 5.3406 11.622 5.38333C12.7927 5.66733 12.7927 7.33267 11.622 7.61667C11.4461 7.65928 11.2828 7.74281 11.1453 7.86047C11.0079 7.97813 10.9001 8.12659 10.8308 8.29377C10.7616 8.46094 10.7328 8.64211 10.7468 8.82252C10.7607 9.00294 10.8171 9.1775 10.9113 9.332C11.538 10.3607 10.3607 11.5387 9.33133 10.912C9.1769 10.8179 9.00244 10.7616 8.82215 10.7477C8.64186 10.7337 8.46082 10.7625 8.29375 10.8317C8.12667 10.9009 7.97828 11.0085 7.86063 11.1458C7.74298 11.2831 7.6594 11.4463 7.61667 11.622C7.33267 12.7927 5.66733 12.7927 5.38333 11.622C5.34072 11.4461 5.25719 11.2828 5.13953 11.1453C5.02187 11.0079 4.87341 10.9001 4.70623 10.8308C4.53906 10.7616 4.35789 10.7328 4.17748 10.7468C3.99706 10.7607 3.8225 10.8171 3.668 10.9113C2.63933 11.538 1.46133 10.3607 2.088 9.33133C2.18207 9.1769 2.23837 9.00244 2.25232 8.82215C2.26628 8.64186 2.2375 8.46082 2.16831 8.29375C2.09913 8.12667 1.99151 7.97828 1.85418 7.86063C1.71686 7.74298 1.55371 7.6594 1.378 7.61667C0.207333 7.33267 0.207333 5.66733 1.378 5.38333C1.55387 5.34072 1.71719 5.25719 1.85467 5.13953C1.99215 5.02187 2.0999 4.87341 2.16916 4.70623C2.23843 4.53906 2.26723 4.35789 2.25325 4.17748C2.23926 3.99706 2.18287 3.8225 2.08867 3.668C1.462 2.63933 2.63933 1.46133 3.66867 2.088C4.33533 2.49333 5.19933 2.13467 5.38333 1.378Z"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M4.5 6.5C4.5 7.03043 4.71071 7.53914 5.08579 7.91421C5.46086 8.28929 5.96957 8.5 6.5 8.5C7.03043 8.5 7.53914 8.28929 7.91421 7.91421C8.28929 7.53914 8.5 7.03043 8.5 6.5C8.5 5.96957 8.28929 5.46086 7.91421 5.08579C7.53914 4.71071 7.03043 4.5 6.5 4.5C5.96957 4.5 5.46086 4.71071 5.08579 5.08579C4.71071 5.46086 4.5 5.96957 4.5 6.5Z"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      );
    case "logout":
      return (
        <svg
          width="13"
          height="12"
          viewBox="0 0 13 12"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M7.83333 3.16667V1.83333C7.83333 1.47971 7.69286 1.14057 7.44281 0.890524C7.19276 0.640476 6.85362 0.5 6.5 0.5H1.83333C1.47971 0.5 1.14057 0.640476 0.890524 0.890524C0.640476 1.14057 0.5 1.47971 0.5 1.83333V9.83333C0.5 10.187 0.640476 10.5261 0.890524 10.7761C1.14057 11.0262 1.47971 11.1667 1.83333 11.1667H6.5C6.85362 11.1667 7.19276 11.0262 7.44281 10.7761C7.69286 10.5261 7.83333 10.187 7.83333 9.83333V8.5M3.16667 5.83333H12.5M12.5 5.83333L10.5 3.83333M12.5 5.83333L10.5 7.83333"
            stroke="currentColor"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      );
    default:
      return null;
  }
}

const SECTIONS = [
  {
    title: "Asosiy",
    items: [
      {
        to: "/dashboard",
        label: "Boshqaruv paneli",
        icon: "grid",
        roles: ["admin", "manager"],
      },
    ],
  },
  {
    title: "Inventarizatsiya",
    items: [
      {
        to: "/products",
        label: "Mahsulotlar",
        icon: "box",
        roles: ["admin", "manager"],
      },
      {
        to: "/create",
        label: "Mahsulot yaratish",
        icon: "plus",
        roles: ["admin"],
      },
    ],
  },
  {
    title: "Sotish",
    items: [
      {
        to: "/orders",
        label: "Buyurtma",
        icon: "cart",
        roles: ["admin", "manager"],
      },
      {
        to: "/sales",
        label: "Sotuv roÊ»yxati",
        icon: "list",
        roles: ["admin", "manager"],
      },
      {
        to: "/withdraw-requests",
        label: "Chiqirish uchun arizalar",
        icon: "file",
        roles: ["admin", "manager"],
      },
    ],
  },
  {
    title: "Reklama",
    items: [
      {
        to: "/promocodes",
        label: "Promokodlar",
        icon: "ticket",
        roles: ["admin", "manager"],
      },
      {
        to: "/reviews",
        label: "Sharhlar",
        icon: "star",
        roles: ["admin", "manager"],
      },
    ],
  },
  {
    title: "Mijozlar",
    items: [
      {
        to: "/clients",
        label: "Mijozlar",
        icon: "users",
        roles: ["admin", "manager"],
      },
    ],
  },
  {
    title: "Kuryerlar",
    items: [
      {
        to: "/couriers",
        label: "Kuryerlar",
        icon: "user",
        roles: ["admin", "manager"],
      },
    ],
  },
  {
    title: "Transport",
    items: [
      {
        to: "/transport",
        label: "Transport",
        icon: "truck",
        roles: ["admin", "manager"],
      },
    ],
  },
  {
    title: "Sozlamalar",
    items: [
      {
        to: "/settings",
        label: "Umumiy sozlamalar",
        icon: "settings",
        roles: ["admin"],
      },
    ],
  },
];

export default function Sidebar() {
  const navigate = useNavigate();
  const role = useAuthStore((s) => s.role);
  const logout = useAuthStore((s) => s.logout);

  return (
    <aside className={styles.sidebar}>
      <div className={styles.brand}>
        <div className={styles.brandLogo}>
          <div className={styles.brandText}>Munavvar</div>
          <img src={Logo} className={styles.brandMark} alt="Logo" />
        </div>
        <p className={styles.brandSub}>
          <span>UFLEX</span> tomonidan yaratilgan
        </p>
      </div>

      <div className={styles.scroll}>
        {SECTIONS.map((section) => {
          const visible = section.items.filter((i) => i.roles.includes(role));
          if (visible.length === 0) return null;

          return (
            <div key={section.title} className={styles.section}>
              <div className={styles.sectionTitle}>{section.title}</div>
              <nav className={styles.nav}>
                {visible.map((item) => (
                  <NavLink
                    key={item.to}
                    to={item.to}
                    className={({ isActive }) =>
                      isActive ? `${styles.link} ${styles.active}` : styles.link
                    }
                  >
                    <Icon name={item.icon} />
                    <span className={styles.linkLabel}>{item.label}</span>
                  </NavLink>
                ))}
              </nav>
              <div className={styles.divider} />
            </div>
          );
        })}
      </div>

      <div className={styles.bottom}>
        <button
          type="button"
          className={styles.link}
          onClick={() => {
            logout();
            navigate("/login", { replace: true });
          }}
        >
          <Icon name="logout" />
          <span className={styles.linkLabel}>Chiqish</span>
        </button>
      </div>
    </aside>
  );
}
